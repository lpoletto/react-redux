(this["webpackJsonpredux-udemy"]=this["webpackJsonpredux-udemy"]||[]).push([[0],{41:function(e,t,a){e.exports=a(74)},46:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),c=a.n(o),l=(a(46),a(40)),s=a(39),u=a(3),i=a(9),m=a.n(i),p=a(13),d=a(4),O=a(16),b=a.n(O),g={count:0,next:null,previous:null,results:[]};var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://pokeapi.co/api/v2/pokemon/1/";return function(){var t=Object(p.a)(m.a.mark((function t(a,n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.getItem(e)){t.next=5;break}console.log("datos desde el Local Storage"),a({type:"POKE_INFO_EXITO",payload:JSON.parse(localStorage.getItem(e))}),t.next=17;break;case 5:return console.log("datos desde API"),t.prev=6,t.next=9,b.a.get(e);case 9:r=t.sent,a({type:"POKE_INFO_EXITO",payload:{nombre:r.data.name,ancho:r.data.weight,alto:r.data.height,foto:r.data.sprites.front_default}}),localStorage.setItem(e,JSON.stringify({nombre:r.data.name,ancho:r.data.weight,alto:r.data.height,foto:r.data.sprites.front_default})),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(6),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[6,14]])})));return function(e,a){return t.apply(this,arguments)}}()},f=function(){var e=Object(u.b)();Object(n.useEffect)((function(){e(E())}),[e]);var t=Object(u.c)((function(e){return e.pokemones.unPokemon}));return console.log(t),t?r.a.createElement("div",{className:"card mt-4 text-center"},r.a.createElement("div",{className:"card-body"},r.a.createElement("img",{src:t.foto,className:"img-fluid",alt:""}),r.a.createElement("div",{className:"card-title text-uppercase"},t.nombre),r.a.createElement("p",{className:"card-text"},"Alto: ",t.alto," | Ancho: ",t.ancho))):null},v=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.pokemones.results})),a=Object(u.c)((function(e){return e.pokemones.next})),n=Object(u.c)((function(e){return e.pokemones.previous}));return console.log(t),r.a.createElement("div",{className:"row mt-5"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h3",null,"Lista de Pokemones"),r.a.createElement("ul",{className:"list-group mt-4"},t.map((function(t){return r.a.createElement("li",{className:"list-group-item text-uppercase",key:t.name},t.name,r.a.createElement("button",{className:"btn btn-warning btn-sm float-right",onClick:function(){return e(E(t.url))}},"Info"))}))),r.a.createElement("div",{className:"d-flex justify-content-between mt-4"},0===t.length&&r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e(function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("offset=0")){e.next=5;break}console.log("datos desde el Local Storage"),t({type:"OBTENER_POKEMONES_EXITO",payload:JSON.parse(localStorage.getItem("offset=0"))}),e.next=17;break;case 5:return console.log("Datos desde la API"),e.prev=6,e.next=9,b.a.get("https://pokeapi.co/api/v2/pokemon?offset=0&limit=10");case 9:n=e.sent,t({type:"OBTENER_POKEMONES_EXITO",payload:n.data}),localStorage.setItem("offset=0",JSON.stringify(n.data)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t,a){return e.apply(this,arguments)}}())}}," Get Pokemones "),n&&r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e(function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a().pokemones.previous,!localStorage.getItem(n)){e.next=6;break}console.log("datos desde el Local Storage"),t({type:"OBTENER_POKEMONES_EXITO",payload:JSON.parse(localStorage.getItem(n))}),e.next=18;break;case 6:return console.log("Datos de la API"),e.prev=7,e.next=10,b.a.get(n);case 10:r=e.sent,t({type:"SIGUIENTE_POKEMONES_EXITO",payload:r.data}),localStorage.setItem(n,JSON.stringify(r.data)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(7),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t,a){return e.apply(this,arguments)}}())}}," Anterior "),a&&r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e(function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a().pokemones.next,!localStorage.getItem(n)){e.next=6;break}console.log("datos desde el Local Storage"),t({type:"OBTENER_POKEMONES_EXITO",payload:JSON.parse(localStorage.getItem(n))}),e.next=18;break;case 6:return console.log("Datos de la API"),e.prev=7,e.next=10,b.a.get(n);case 10:r=e.sent,t({type:"SIGUIENTE_POKEMONES_EXITO",payload:r.data}),localStorage.setItem(n,JSON.stringify(r.data)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(7),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t,a){return e.apply(this,arguments)}}())}}," Siguiente "))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h3",null,"Detalle Pokemon"),r.a.createElement(f,null)))},I=a(2),h=a(11),S=a(20),N=a.n(S);a(71);N.a.initializeApp({apiKey:"AIzaSyCaQ9EOXY1AQTEhscGhyoITH_U0EU4HAWM",authDomain:"react-firebase-login-36b9e.firebaseapp.com",databaseURL:"https://react-firebase-login-36b9e.firebaseio.com",projectId:"react-firebase-login-36b9e",storageBucket:"react-firebase-login-36b9e.appspot.com",messagingSenderId:"1009251232553",appId:"1:1009251232553:web:1d7eef49cbb2ff4eae2538",measurementId:"G-H5JYBY7588"});var k=N.a.auth(),y={loading:!1,activo:!1};var j=Object(I.g)((function(e){var t=Object(u.b)(),a=Object(u.c)((function(e){return e.usuario.loading})),o=Object(u.c)((function(e){return e.usuario.activo}));return Object(n.useEffect)((function(){console.log(o),o&&e.history.push("/")}),[o,e.history]),r.a.createElement("div",{className:"mt-5 text-center"},r.a.createElement("h3",null,"Ingreso con Google"),r.a.createElement("hr",null),r.a.createElement("button",{className:"btn btn-dark",onClick:function(){return t(function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"LOADING"}),e.prev=1,a=new N.a.auth.GoogleAuthProvider,e.next=5,k.signInWithPopup(a);case 5:n=e.sent,t({type:"USUARIO_EXITO",payload:{uid:n.user.uid,email:n.user.email}}),localStorage.setItem("usuario",JSON.stringify({uid:n.user.uid,email:n.user.email})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),t({type:"USUARIO_ERROR"});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}())},disabled:a},"Acceder"))})),x=Object(I.g)((function(e){var t=Object(u.b)(),a=function(){t((function(e){k.signOut(),localStorage.removeItem("usuario"),e({type:"CERRAR_SESION"})})),e.history.push("/login")},n=Object(u.c)((function(e){return e.usuario.activo}));return r.a.createElement("div",{className:"navbar navbar-dark bg-dark"},r.a.createElement(h.b,{className:"navbar-brand",to:"/"},"APP POKE"),r.a.createElement("div",{className:"d-flex"},n?r.a.createElement(r.a.Fragment,null,r.a.createElement(h.c,{className:"btn btn-dark mr-2",to:"/",exact:!0},"Inicio"),r.a.createElement("button",{className:"btn btn-dark mr-2",onClick:function(){return a()}},"Cerrar sesi\xf3n")):r.a.createElement(h.c,{className:"btn btn-dark mr-2",to:"/login",exact:!0},"Login")))}));var _=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],o=t[1];Object(n.useEffect)((function(){k.onAuthStateChanged((function(e){console.log(e),o(e||null)}))}),[]);var c=function(e){var t=e.component,n=e.path,o=Object(l.a)(e,["component","path"]);return localStorage.getItem("usuario")&&JSON.parse(localStorage.getItem("usuario")).uid===a.uid?r.a.createElement(I.b,Object.assign({component:t,path:n},o)):r.a.createElement(I.a,Object.assign({to:"/login"},o))};return!1!==a?r.a.createElement(h.a,null,r.a.createElement("div",{className:"container mt-3"},r.a.createElement(x,null),r.a.createElement(I.d,null,r.a.createElement(c,{component:v,path:"/",exact:!0}),r.a.createElement(I.b,{component:j,path:"/login",exact:!0})))):r.a.createElement("div",null,"Cargando...")},P=a(12),T=a(38),A=Object(P.c)({pokemones:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OBTENER_POKEMONES_EXITO":case"SIGUIENTE_POKEMONES_EXITO":return Object(d.a)(Object(d.a)({},e),t.payload);case"POKE_INFO_EXITO":return Object(d.a)(Object(d.a)({},e),{},{unPokemon:t.payload});default:return e}},usuario:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case"USUARIO_ERROR":return Object(d.a)({},y);case"USUARIO_EXITO":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,user:t.payload,activo:!0});case"CERRAR_SESION":return Object(d.a)({},y);default:return Object(d.a)({},e)}}}),R=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||P.d;var w=function(){var e,t=Object(P.e)(A,R(Object(P.a)(T.a)));return e=t.dispatch,localStorage.getItem("usuario")&&e({type:"USUARIO_EXITO",payload:JSON.parse(localStorage.getItem("usuario"))}),t}();c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,{store:w},r.a.createElement(_,null))),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.6e8a94af.chunk.js.map